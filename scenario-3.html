<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex,nofollow">
  <link rel="stylesheet" href="css/styles.css">
  <link rel="stylesheet" href="css/easy-autocomplete.css">
</head>
<body>
  <div class="banner">
    <h1>Scenario 3: Finding an Elefriend</h1>
  </div>
  <div class="image-holder">
    <img src="images/feed-background.jpg" />

    <div class="feed-column">
      <img id="post-box" src="images/post-box-closed.png" />
      <img id="tabs" src="images/feed-tabs.png" />
      <img id="feed" src="images/feed-standard.png" />
    </div>

    <div id="search">
      <input type="text" placeholder="Search for nicknames, interests or tags"  />
    </div>

  </div>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="js/jquery-1.11.2.min.js"><\/script>')</script>
  <script src="js/jquery.easy-autocomplete.min.js"></script>

  <script>

    var data = [
      {
        name: 'Tim_1981',
        type: 'user',
        icon: 'http://placekitten.com/300/300'
      },
      {
        name: '#timefortea',
        type: 'tag',
        icon: 'http://fillmurray.com/300/300'
      },
      {
        name: 'Timothy',
        type: 'bio',
        icon: 'http://placecage.com/300/300'
      },
      {
        name: 'Timbo',
        type: 'bio',
        icon: 'http://placecage.com/300/300'
      }
    ];

    var options = {
      data: data,
      getValue: 'name',
      template: {
        type: "custom",
        method: function(value, item) {
          return '<span class="' + item.type + '"><img src="' + item.icon + '" />' + item.name + '</span>';
        }
      },

      list: {
        match: {
          enabled: true
        },
        onLoadEvent: function () {
          $('.easy-autocomplete-container ul').append('<li id="all"><a href="#">Not what you\'re looking for? <span>See more results</span></a></li>');
        },
        onChooseEvent: function() {
          var value = $("#search input").getSelectedItemData();
          if (value.name === '#cat') {
            $('#feed').attr('src', 'images/feed-filtered.png');
            registerRefresh();
            showNotifier();
          }
        }
      }
    };

    $("#search input").easyAutocomplete(options);


    $("body").on('click', '#all', function () {
      window.location = './scenario-3-part-2.html';
    });


  </script>

</body>
</html>
